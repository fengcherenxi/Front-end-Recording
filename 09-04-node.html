<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>node | 前端学习之路记载</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="前端学习之路遇到的各种重点难点进行总结">
    
    <link rel="preload" href="/Front-end-Recording/assets/css/0.styles.7e77420c.css" as="style"><link rel="preload" href="/Front-end-Recording/assets/js/app.6504e1cf.js" as="script"><link rel="preload" href="/Front-end-Recording/assets/js/3.64af85a2.js" as="script"><link rel="preload" href="/Front-end-Recording/assets/js/1.20e53344.js" as="script"><link rel="preload" href="/Front-end-Recording/assets/js/81.c755a1dd.js" as="script"><link rel="prefetch" href="/Front-end-Recording/assets/js/10.0579193f.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/11.f7255fdc.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/12.8f3289a1.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/13.dd3ec4d0.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/14.3b0c40c9.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/15.e99accd5.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/16.2e8ea679.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/17.cc6bf0e6.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/18.5d22e26a.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/19.054b1ded.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/20.ce3e53da.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/21.2fb4c2cb.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/22.6562bf5c.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/23.b7e1a9c8.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/24.61d42080.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/25.52ecd758.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/26.95fbb319.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/27.39d29c35.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/28.92805679.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/29.f38aa942.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/30.afe25207.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/31.6787d04d.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/32.8a0364cc.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/33.53f4f8f4.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/34.293c11b3.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/35.7c4e0172.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/36.8411fd08.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/37.7c449341.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/38.f96261a3.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/39.ab1fd0dd.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/4.6a1f377b.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/40.3babf305.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/41.2bf60614.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/42.4ccc7ff9.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/43.a1f426f1.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/44.dba9d417.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/45.02928448.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/46.226e7c8d.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/47.c4fd0a02.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/48.67065663.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/49.0807d142.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/5.de20f89a.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/50.cb89e1a5.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/51.ec8f313a.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/52.bd530e92.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/53.e001b472.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/54.633ca406.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/55.29b09653.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/56.d8675d43.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/57.c62c0337.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/58.2c4bf246.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/59.54024351.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/6.844778a8.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/60.89bca74b.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/61.e953b46e.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/62.2b14207a.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/63.120cb9b0.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/64.2516516f.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/65.59c0b2fd.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/66.f144b76a.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/67.f8e2ecd4.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/68.3ac8cb73.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/69.529c907c.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/7.6f646e22.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/70.82ba1381.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/71.c248bd49.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/72.c7e3ba5c.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/73.a48ae86e.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/74.620c707a.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/75.52b70c72.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/76.6c105f06.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/77.f90d1f69.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/78.f38eafe3.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/79.b05101c6.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/8.000ef259.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/80.99f1ad94.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/82.022b0761.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/83.8dfb92af.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/84.7ca06ecc.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/85.2265ce4b.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/86.026473b0.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/87.98e54600.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/88.77f8e1e6.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/89.cc4d572e.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/9.5e5e99da.js"><link rel="prefetch" href="/Front-end-Recording/assets/js/90.02e35ab5.js">
    <link rel="stylesheet" href="/Front-end-Recording/assets/css/0.styles.7e77420c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-130b300a><div data-v-130b300a><div class="password-shadow password-wrapper-out" style="display:none;" data-v-25ba6db2 data-v-130b300a data-v-130b300a><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>前端学习之路记载</h3> <p class="description" data-v-25ba6db2 data-v-25ba6db2>前端学习之路遇到的各种重点难点进行总结</p> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><!---->
            
          <!---->
          2023
        </a></span></div></div> <div class="hide" data-v-130b300a><header class="navbar" data-v-130b300a><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Front-end-Recording/" class="home-link router-link-active"><!----> <span class="site-name">前端学习之路记载</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Front-end-Recording/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      About me
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/fengcherenxi" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://fengcherenxi.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  个人博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://leetcode-cn.com/u/yang_suoze/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  力扣
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-130b300a></div> <aside class="sidebar" data-v-130b300a><div class="personal-info-wrapper" data-v-39576ba9 data-v-130b300a><!----> <!----> <div class="num" data-v-39576ba9><div data-v-39576ba9><h3 data-v-39576ba9>75</h3> <h6 data-v-39576ba9>Articles</h6></div> <div data-v-39576ba9><h3 data-v-39576ba9>0</h3> <h6 data-v-39576ba9>Tags</h6></div></div> <ul class="social-links" data-v-39576ba9></ul> <hr data-v-39576ba9></div> <nav class="nav-links"><div class="nav-item"><a href="/Front-end-Recording/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      About me
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/fengcherenxi" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://fengcherenxi.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  个人博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://leetcode-cn.com/u/yang_suoze/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  力扣
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>1-欢迎学习</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Front-end-Recording/" aria-current="page" class="sidebar-link">Hello!</a></li><li><a href="/Front-end-Recording/01-01-图像标注工具说明书.html" class="sidebar-link">labelOur使用说明书</a></li><li><a href="/Front-end-Recording/01-01-前端知识体系总结.html" class="sidebar-link">前端知识体系</a></li><li><a href="/Front-end-Recording/01-02-面经知识梳理.html" class="sidebar-link">手写题梳理</a></li><li><a href="/Front-end-Recording/01-03-八股目录.html" class="sidebar-link">八股目录</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>2-计算机网络</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Front-end-Recording/02-01-http和https.html" class="sidebar-link">http和https</a></li><li><a href="/Front-end-Recording/02-02-http的发展.html" class="sidebar-link">http的发展</a></li><li><a href="/Front-end-Recording/02-03-TCP三次握手和四次挥手.html" class="sidebar-link">TCP三次握手和四次挥手</a></li><li><a href="/Front-end-Recording/02-04-DNS.html" class="sidebar-link">DNS域名解析过程</a></li><li><a href="/Front-end-Recording/02-05-物理层.html" class="sidebar-link">详解——物理层</a></li><li><a href="/Front-end-Recording/02-06-数据链路层.html" class="sidebar-link">详解——数据链路层</a></li><li><a href="/Front-end-Recording/02-07-网络层.html" class="sidebar-link">详解——网络层</a></li><li><a href="/Front-end-Recording/02-08-传输层.html" class="sidebar-link">详解——传输层</a></li><li><a href="/Front-end-Recording/02-09-应用层.html" class="sidebar-link">详解——应用层</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>3-浏览器原理</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Front-end-Recording/03-01-浏览器安全.html" class="sidebar-link">浏览器安全</a></li><li><a href="/Front-end-Recording/03-02-进程与线程.html" class="sidebar-link">进程与线程</a></li><li><a href="/Front-end-Recording/03-03-浏览器缓存.html" class="sidebar-link">浏览器缓存</a></li><li><a href="/Front-end-Recording/03-04-浏览器组成.html" class="sidebar-link">浏览器组成</a></li><li><a href="/Front-end-Recording/03-05-浏览器渲染原理.html" class="sidebar-link">浏览器渲染原理</a></li><li><a href="/Front-end-Recording/03-06-浏览器本地存储.html" class="sidebar-link">浏览器本地存储</a></li><li><a href="/Front-end-Recording/03-07-浏览器同源策略.html" class="sidebar-link">浏览器同源策略</a></li><li><a href="/Front-end-Recording/03-08-浏览器事件机制.html" class="sidebar-link">浏览器事件机制</a></li><li><a href="/Front-end-Recording/03-09-浏览器垃圾回收机制.html" class="sidebar-link">浏览器垃圾回收机制</a></li><li><a href="/Front-end-Recording/03-10-操作系统相关.html" class="sidebar-link">操作系统相关</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>4-CSS相关</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Front-end-Recording/04-01-盒子模型.html" class="sidebar-link">盒子模型</a></li><li><a href="/Front-end-Recording/04-02-网格布局.html" class="sidebar-link">网格布局</a></li><li><a href="/Front-end-Recording/04-03-Flex布局.html" class="sidebar-link">Flex布局</a></li><li><a href="/Front-end-Recording/04-04-BFC.html" class="sidebar-link">BFC</a></li><li><a href="/Front-end-Recording/04-04-两栏布局.html" class="sidebar-link">两栏布局</a></li><li><a href="/Front-end-Recording/04-05-新增属性.html" class="sidebar-link">HTML5和CSS3新增属性</a></li><li><a href="/Front-end-Recording/04-06-盒子居中.html" class="sidebar-link">盒子垂直水平居中</a></li><li><a href="/Front-end-Recording/04-07-canvas.html" class="sidebar-link">canvas及实践</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>5-JS相关</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Front-end-Recording/05-01-ES6.html" class="sidebar-link">ES6语法</a></li><li><a href="/Front-end-Recording/05-02-ES7以后语法.html" class="sidebar-link">ES7以后语法</a></li><li><a href="/Front-end-Recording/05-03-闭包.html" class="sidebar-link">深入理解闭包</a></li><li><a href="/Front-end-Recording/05-04-JS数组.html" class="sidebar-link">JS数组</a></li><li><a href="/Front-end-Recording/05-05-JS基础手写.html" class="sidebar-link">JS基础手写</a></li><li><a href="/Front-end-Recording/05-06-异步编程相关.html" class="sidebar-link">异步编程</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>6-Vue</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Front-end-Recording/06-00-Vue基础高频.html" class="sidebar-link">Vue基础——高频</a></li><li><a href="/Front-end-Recording/06-00-Vue基础次高频.html" class="sidebar-link">Vue基础——次高频</a></li><li><a href="/Front-end-Recording/06-00-Vue基础低频.html" class="sidebar-link">Vue基础——低频</a></li><li><a href="/Front-end-Recording/06-01-Vue双向数据绑定-模板编译原理.html" class="sidebar-link">双向数据绑定-模板编译原理</a></li><li><a href="/Front-end-Recording/06-02-Vue3新特性.html" class="sidebar-link">Vue3新特性</a></li><li><a href="/Front-end-Recording/06-01-虚拟DOM.html" class="sidebar-link">Vue虚拟DOM</a></li><li><a href="/Front-end-Recording/06-01-生命周期.html" class="sidebar-link">Vue生命周期</a></li><li><a href="/Front-end-Recording/06-01-VueX.html" class="sidebar-link">VueX</a></li><li><a href="/Front-end-Recording/06-01-组件通信.html" class="sidebar-link">Vue7种组件通信</a></li><li><a href="/Front-end-Recording/06-01-路由.html" class="sidebar-link">Vue路由</a></li><li><a href="/Front-end-Recording/06-04-Vue与VueComponent的关系.html" class="sidebar-link">Vue与VueComponent的关系</a></li><li><a href="/Front-end-Recording/06-04-脚手架todolist案例总结.html" class="sidebar-link">脚手架todolist案例总结</a></li><li><a href="/Front-end-Recording/06-05-组件事件&amp;事件总线&amp;消息订阅与发布.html" class="sidebar-link">组件事件&amp;事件总线&amp;消息订阅与发布</a></li><li><a href="/Front-end-Recording/06-07-子组件可以直接改变父组件的数据吗.html" class="sidebar-link">子组件可以直接改变父组件的数据吗</a></li><li><a href="/Front-end-Recording/06-08-路由相关.html" class="sidebar-link">路由相关</a></li><li><a href="/Front-end-Recording/06-10-Vue3的响应式原理.html" class="sidebar-link">Vue3的响应式原理</a></li><li><a href="/Front-end-Recording/06-11-Vue中computed等.html" class="sidebar-link">Vue的computed &amp;&amp; watch &amp;&amp; method &amp;&amp; watchEffect</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/Front-end-Recording/handbook/ConditionalTypes" class="sidebar-heading clickable"><span>7-算法</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/Front-end-Recording/07-01-排序算法详解.html" class="sidebar-link">排序算法</a></li><li><a href="/Front-end-Recording/07-02-查找算法总结.html" class="sidebar-link">查找算法</a></li><li><a href="/Front-end-Recording/07-03-二叉树基础知识.html" class="sidebar-link">二叉树</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/Front-end-Recording/handbook/ConditionaßlTypes" class="sidebar-heading clickable"><span>8-项目</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/Front-end-Recording/08-03-性能优化.html" class="sidebar-link">性能优化</a></li><li><a href="/Front-end-Recording/08-04-webpack打包.html" class="sidebar-link">webpack打包</a></li><li><a href="/Front-end-Recording/08-05-react相关.html" class="sidebar-link">react相关</a></li><li><a href="/Front-end-Recording/05-07-防抖动.html" class="sidebar-link">防抖动</a></li><li><a href="/Front-end-Recording/05-07-节流.html" class="sidebar-link">节流</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/Front-end-Recording/handbook/ConditionaßlTypes" class="sidebar-heading clickable open"><span>9-阅读总结</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/Front-end-Recording/09-01-红宝书第四章.html" class="sidebar-link">红宝书4-变量、作用域和内存问题</a></li><li><a href="/Front-end-Recording/09-02-红宝书第五章.html" class="sidebar-link">红宝书5-引用类型</a></li><li><a href="/Front-end-Recording/09-03-剑🈯️offer.html" class="sidebar-link">剑🈯️offer</a></li><li><a href="/Front-end-Recording/09-04-node.html" aria-current="page" class="active sidebar-link">node</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/Front-end-Recording/handbook/ConditionaßlTypes" class="sidebar-heading clickable"><span>10-面经汇总</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/Front-end-Recording/10-01-字节.html" class="sidebar-link">字节</a></li><li><a href="/Front-end-Recording/10-02-tplink.html" class="sidebar-link">Tplink</a></li><li><a href="/Front-end-Recording/10-03-其他面经.html" class="sidebar-link">其他面经</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/Front-end-Recording/handbook/ConditionaßlTypes" class="sidebar-heading clickable"><span>11-react+TS</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/Front-end-Recording/11-01-TypeScript.html" class="sidebar-link">TypeScript</a></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-25ba6db2 data-v-130b300a><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>node</h3> <!----> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><!---->
            
          <!---->
          2023
        </a></span></div></div> <div data-v-130b300a><main class="page"><section><div class="page-title"><h1 class="title">node</h1> <div data-v-f875f3fc><!----> <!----> <!----> <!----></div></div> <div class="theme-reco-content content__default"><h2 id="_1-模块机制"><a href="#_1-模块机制" class="header-anchor">#</a> 1. 模块机制</h2> <h3 id="_1-1-commonjs规范"><a href="#_1-1-commonjs规范" class="header-anchor">#</a> 1.1 CommonJS规范</h3> <ul><li>web1.0时代：表单验证&amp;&amp;网页特效</li> <li>web2.0时代：工具类库、组件库、前端框架、前端应用</li> <li>但JS先天缺乏的功能——模块
<ul><li>没有标准接口：对接服务器和数据库</li> <li>缺乏包管理系统：JS应用没有自动加载和安装依赖的功能</li></ul></li> <li>因此提出CommonJS规范让JS能在任何地方运行
<ul><li>服务端JS应用程序</li> <li>命令行工具</li> <li>桌面图形界面应用程序</li> <li>混合应用</li></ul></li> <li>模块规范：模块的定义简单。意义在于将类聚的方法和变量等限定在私有的作用域中，同时支持引入和导出功能以顺畅地连接上下游依赖。同时不用担心变量污染问题。
<ul><li>模块引用——require</li> <li>模块定义</li> <li>模块标识</li></ul></li></ul> <h3 id="_1-2-node的模块实现"><a href="#_1-2-node的模块实现" class="header-anchor">#</a> 1.2 Node的模块实现</h3> <ul><li>Node中引入模块：
<ul><li>(1) 路径分析(2) 文件定位(3) 编译执行</li> <li>核心模块引入时，文件定位和编译执行这两个步骤可以省略掉，并且在路径分析中优先判断，所以它的加载速度是最快的。</li> <li>文件模块则是在运行时动态加载，需要完整的路径分析、文件定位、编译执行过程，速度比核心模块慢。</li></ul></li> <li>模块加载过程:
<ul><li>优先从缓存加载:对引入过的模块都会进行缓存,Node缓存的是编译和执行之后的对象。核心模块的缓存检查先于文件模块的缓存检查。</li> <li>路径分析:
<ul><li>核心模块，如http、fs、path等——核心模块的优先级仅次于缓存加载。在Node的源代码编译过程中已经编译为二进制代码，其加载过程最快。</li> <li>．或．．相对路径文件模块;以/开始的绝对路径文件模块；</li> <li>非路径形式的文件模块，如自定义的connect模块——可能是一个文件或者包的形式。这类模块的查找是<strong>最慢</strong>的一种。<strong>原因</strong>：沿路径向上逐级递归，直到根目录下的node_modules目录。在加载的过程中，Node会逐个尝试模块路径中的路径，直到找到目标文件为止。当前文件的路径越深，模块查找耗时会越多，这是自定义模块的加载速度是最慢的原因。</li></ul></li> <li>文件定位：
<ul><li>细节：文件扩展名的分析、目录和包的处理</li> <li>扩展名：不写Node会自动按．js、.json、.node的次序补足扩展名，依次尝试。诀窍是：如果是．node和．json文件，在传递给require()的标识符中带上扩展名，会加快一点速度。另一个诀窍是：同步配合缓存，可以大幅度缓解Node单线程中阻塞式调用的缺陷。</li> <li>目录分析和包：首先，Node在当前目录下查找package.json（CommonJS包规范定义的包描述文件），通过JSON.parse()解析出包描述对象，从中取出main属性指定的文件名进行定位。如果文件名缺少扩展名，将会进入扩展名分析的步骤。如果main属性指定的文件名错误，或者压根没有package.json文件，Node会将index当做默认文件名，然后依次查找index.js、index.json、index.node。</li></ul></li> <li>模块编译：
<ul><li>对自定义的扩展名进行特殊的加载，可以通过类似require.extensions['.ext']的方式实现。官方不鼓励通过这种方式来进行自定义扩展名的加载，而是期望先将其他语言或文件编译成JavaScript文件后再加载，这样做的好处在于不将烦琐的编译加载等过程引入Node的执行过程中。</li> <li>JavaScript模块的编译：包装了require、exports、module这3个变量、__filename、__dirname这两个变量</li> <li>C/C++模块的编译：Node调用process.dlopen()方法进行加载和执行。在Node的架构下，dlopen()方法在Windows和*nix平台下分别有不同的实现，通过libuv兼容层进行了封装。——没有什么不是加一层不能解决的。——劣势则是C/C++模块的编写门槛比JavaScript高。</li> <li>JSON文件的编译——fs模块同步读取JSON内容，调用JSON.parse()得到对象，将其赋给模块对象的exports，以供外部调用。</li></ul></li></ul></li></ul> <h3 id="_1-3-核心模块"><a href="#_1-3-核心模块" class="header-anchor">#</a> 1.3 核心模块</h3> <p>Node的核心模块在编译成可执行文件的过程中被编译进了二进制文件。核心模块其实分为C/C++编写的和JavaScript编写的两部分，其中C/C++文件存放在Node项目的src目录下，JavaScript文件存放在lib目录下。</p> <ul><li>JavaScript核心模块的编译过程：
<ul><li>转存为C/C++代码：采用了V8附带的js2c.py工具，将所有内置的JavaScript代码（src/node.js和lib/*.js）转换成C++里的数组，生成node_natives.h头文件</li> <li>编译JavaScript核心模块</li></ul></li> <li>C/C++核心模块的编译过程：C++模块主内完成核心，JavaScript主外实现封装的模式是Node能够提高性能的常见方式。Node的buffer、crypto、evals、fs、os等模块都是部分通过C/C++编写的。
<ul><li>内建模块的组织形式：优势在于本身由C/C++编写，性能上优于脚本语言；其次，被编译进二进制文件。Node执行时被直接加载进内存中，无须再次做标识符定位、文件定位、编译等过程，直接就可执行。</li> <li>C/C++模块通过预先编译为．node文件，然后调用process.dlopen()方法加载执行。</li> <li>内建模块的导出：node的所有模块类型中存在一种依赖层级关系（内建模块C/C++——核心模块JS——文件模块）
<ul><li>Node在启动时，会生成一个全局变量process，并提供Binding()方法来协助加载内建模块。</li></ul></li></ul></li> <li>核心模块的引入流程：<img src="img/os.png" alt="os原生模块的引入流程"></li> <li>编写核心模块：详见书本。可以通过JS来编写简单模块，也可以编写C/C++模块</li></ul> <h3 id="_1-4-c-c-扩展模块"><a href="#_1-4-c-c-扩展模块" class="header-anchor">#</a> 1.4 C/C++扩展模块</h3> <p>JavaScript的一个典型弱点就是位运算。JavaScript的位运算参照Java的位运算实现，但是Java位运算是在int型数字的基础上进行的，而JavaScript中只有double型的数据类型，在进行位运算的过程中，需要将double型转换为int型，然后再进行。所以，在JavaScript层面上做位运算的效率不高。</p> <p>应用中会频繁出现位运算的需求，包括转码、编码等过程，JS实现其CPU资源将会耗费很多，编写C/C++扩展模块可以有效的提升性能。</p> <p>一个平台下的．node文件在另一个平台下是无法加载执行的，必须重新用各自平台下的编译器编译为正确的．node文件。
<img src="img/%E6%89%A9%E5%B1%95%E6%A8%A1%E5%9D%97%E4%B8%8D%E5%90%8C%E5%B9%B3%E5%8F%B0%E4%B8%8A%E7%9A%84%E7%BC%96%E8%AF%91%E5%92%8C%E5%8A%A0%E8%BD%BD%E8%BF%87%E7%A8%8B.png" alt="扩展模块不同平台上的编译和加载过程"></p> <ul><li>前提条件:  V8引擎C++库、libuv库、Node内部库、其他库</li> <li>C/C++扩展模块的编写：
<ul><li>普通的扩展模块与内建模块的区别在于无须将源代码编译进Node，而是通过dlopen()方法动态加载。所以在编写普通的扩展模块时，无须将源代码写进node命名空间，也不需要提供头文件。</li> <li>由于不像编写内建模块那样将对象声明到node_module_list链表中，所以无法被认作是一个原生模块，只能通过dlopen()来动态加载，然后导出给JavaScript调用。</li></ul></li> <li>C/C++扩展模块的编译：在GYP工具的帮助下</li> <li>C/C++扩展模块的加载：
<ul><li><img src="img/require%E5%BC%95%E5%85%A5.ndoe%E6%96%87%E4%BB%B6%E7%9A%84%E8%BF%87%E7%A8%8B.png" alt="require引入.ndoe文件的过程"></li> <li>C/C++扩展模块与JavaScript模块的区别在于加载之后不需要编译，直接执行之后就可以被外部调用了，其加载速度比JavaScript模块略快。</li></ul></li></ul> <p>备注：node-gyp工具的更多细节可以参见https://github.com/TooTallNate/node-gyp</p> <h3 id="_1-5-模块调用栈"><a href="#_1-5-模块调用栈" class="header-anchor">#</a> 1.5 模块调用栈</h3> <p>文件模块、核心模块、内建模块、C/C++扩展模块之间的调用关系：
<img src="img/%E6%A8%A1%E5%9D%97%E4%B9%8B%E9%97%B4%E7%9A%84%E8%B0%83%E7%94%A8%E5%85%B3%E7%B3%BB.png" alt="调用关系"></p> <p>C/C++内建模块属于最底层的模块，它属于核心模块，主要提供API给JavaScript核心模块和第三方JavaScript文件模块调用。如果你不是非常了解要调用的C/C++内建模块，请尽量避免通过process.binding()方法直接调用，这是不推荐的。</p> <p>JavaScript核心模块主要扮演的职责有两类：一类是作为C/C++内建模块的封装层和桥接层，供文件模块调用；一类是纯粹的功能模块，它不需要跟底层打交道，但是又十分重要。</p> <p>文件模块通常由第三方编写，包括普通JavaScript模块和C/C++扩展模块，主要调用方向为普通JavaScript模块调用扩展模块。</p> <h3 id="_1-6-包与npm"><a href="#_1-6-包与npm" class="header-anchor">#</a> 1.6 包与NPM</h3> <p>JavaScript不似Java或者其他语言那样，具有模块和包结构。Node对模块规范的实现，一定程度上解决了变量依赖、依赖关系等代码组织性问题。</p> <p><img src="img/%E5%8C%85%E7%BB%84%E7%BB%87%E6%A8%A1%E5%9D%97.png" alt="包组织模块"></p> <p>CommonJS的包规范的定义其实也十分简单，它由包结构和包描述文件两个部分组成，前者用于组织包中的各种文件，后者则用于描述包的相关信息，以供外部读取分析。</p> <ul><li>包结构：包实际上是一个存档文件，即一个目录直接打包为．zip或tar.gz格式的文件，安装后解压还原为目录
<ul><li>❑ package.json：包描述文件。</li> <li>❑ bin：用于存放可执行二进制文件的目录。</li> <li>❑ lib：用于存放JavaScript代码的目录。</li> <li>❑ doc：用于存放文档的目录。</li> <li>❑ test：用于存放单元测试用例的代码。</li></ul></li> <li>包描述文件与NPM:
<ul><li>package.json必需的字段:name, description, version, keywords, maintainers——如&quot;maintainers&quot;: [{ &quot;name&quot;:&quot;Jackson Tian&quot;, &quot;email&quot;: &quot;shyvo1987@gmail.com&quot;, &quot;web&quot;:&quot;http://html5ify.com&quot; }]npm通过maintainers进行权限验证, contributors, bugs, license, repositories(托管源码的位置), dependencies(当前包所需要的依赖包列表)</li> <li>可选字段：scripts。脚本说明对象。它主要被包管理器用来安装、编译、测试和卸载包。如install、uninstall、build、doc、test</li> <li>NPM常用功能：
<ul><li>查看帮助</li> <li>安装依赖包——全局模式安装：-g全局模式其实并不精确，实际上-g是将一个包安装为全局可用的可执行命令。根据包描述文件中的bin字段配置，将实际脚本链接到node可执行文件相同的路径下；本地安装：只需为NPM指明package.json文件所在的位置即可；从非官方源安装：可以通过镜像源安装，使用过程中如果都采用镜像源安装，可执行<code>npm config set registry http://registry.url</code>命令指定默认源</li> <li>npm钩子命令：scripts字段的提出就是让包在安装或者卸载等过程中提供钩子机制</li> <li>发布包：初始化包描述文件——注册包仓库账号——上传包——即可安装包——管理包权限——分析包</li></ul></li> <li>局域NPM：考虑到模块保密性的问题，现有的解决方案就是企业搭建自己的NPM仓库。局域NPM仓库的搭建方法与搭建镜像站几乎一致。不同之处在于，可以混合使用官方仓库和居于仓库搭建项目。</li></ul></li></ul> <h3 id="_1-7-前后端公用模块"><a href="#_1-7-前后端公用模块" class="header-anchor">#</a> 1.7 前后端公用模块</h3> <p>JS在node出现后的优势即一些模块可以在前后端实现共用，这是因为很多API在各个宿主环境下都提供。但是在实际情况中，前后端的环境是略有差别的。</p> <ul><li>模块的侧重点：前端读取数据的瓶颈在于带宽，后端服务器的瓶颈则在于CPU和内存等资源。前者需要通过网络加载代码，后者从磁盘中加载，两者的加载速度不在一个数量级上。如果前端模块也采用同步的方式来引入，那将会在用户体验上造成很大的问题。UI在初始化过程中需要花费很多时间来等待脚本加载完成。</li></ul> <h2 id="_2-异步i-o"><a href="#_2-异步i-o" class="header-anchor">#</a> 2. 异步I/O</h2> <p>PHP语言从头到脚都是以同步阻塞的方式来执行的。它的缺点在小规模站点中基本不存在，但是在复杂的网络应用中，阻塞导致它无法更好地并发。在众多高级编程语言或运行平台中，将异步作为主要编程方式和设计理念的，Node是首个。</p> <p>Node却是全方位的，既可以作为服务器端去处理客户端带来的大量并发请求，也能作为客户端向网络中的各个应用进行并发请求。</p> <h3 id="_2-1-为什么要异步i-o"><a href="#_2-1-为什么要异步i-o" class="header-anchor">#</a> 2.1 为什么要异步I/O</h3> <ul><li>用户体验：
<ul><li>如果脚本的执行时间超过100毫秒，用户就会感到页面卡顿，以为网页停止响应。而采用异步请求，在下载资源期间，JavaScript和UI的执行都不会处于等待状态，可以继续响应用户的交互行为，给用户一个鲜活的页面。</li> <li>随着网站或应用不断膨胀，数据将会分布到多台服务器上，分布式将会是常态。</li></ul></li> <li>资源分配
<ul><li>单线程同步编程模型会因阻塞I/O导致硬件资源得不到更优的使用。多线程编程模型也因为编程中的死锁、状态同步等问题让开发人员头疼。</li> <li>Node在两者之间给出了它的方案：利用单线程，远离多线程死锁、状态同步等问题；利用异步I/O，让单线程远离阻塞，以更好地使用CPU。</li> <li>为了弥补单线程无法利用多核CPU的缺点，Node提供了类似前端浏览器中Web Workers的子进程，该子进程可以通过工作进程高效地利用CPU和I/O。 <img src="img/%E5%BC%82%E6%AD%A5IO.png" alt="异步IO"></li></ul></li></ul> <h3 id="_2-2-异步i-o实现现状"><a href="#_2-2-异步i-o实现现状" class="header-anchor">#</a> 2.2 异步I/O实现现状</h3> <ul><li>异步I/O与非阻塞I/O：非阻塞I/O返回之后，CPU时间片可以用来处理其他事物，性能提升是明显的。但也存在问题，立即返回的不是业务层期望的数据，而仅仅是当前调用的状态。为获得完整的数据，应用程序需要重复调用I/O操作来确认是否完成，这种重复调用判断操作是否完成的技术叫做轮询。也是对CPU资源的浪费
<ul><li>epoll是Linux下效率最高的I/O事件通知机制。真实利用了事件通知、执行回调的方式，而不是遍历查询，所以不会浪费CPU，执行效率较高，CPU处理休眠的状态。</li></ul></li> <li>理想的非阻塞异步I/O：CPU在I/O过程中不是轮询或休眠状态，而是真正的处理其他操作</li> <li>现实的异步I/O：采用线程池与阻塞I/O模拟异步I/O<img src="img/%E7%BA%BF%E7%A8%8B%E6%B1%A0%E6%A8%A1%E6%8B%9F%E5%BC%82%E6%AD%A5.png" alt="线程池模拟异步I/O"></li></ul> <p>基于libuv的架构示意：
<img src="img/%E5%9F%BA%E4%BA%8Elibuv%E7%9A%84%E6%9E%B6%E6%9E%84%E7%A4%BA%E6%84%8F.png" alt="基于libuv的架构示意"></p> <p>注意：另一个需要强调的地方在于我们时常提到Node是单线程的，<strong>这里的单线程仅仅只是JS执行在单线程中罢了</strong>。在Node中，无论是*nix还是Windows平台，内部完成I/O任务的另有线程池。</p> <h3 id="_2-3-node的异步i-o"><a href="#_2-3-node的异步i-o" class="header-anchor">#</a> 2.3 Node的异步I/O</h3> <p>完成整个异步I/O环节的有事件循环、观察者和请求对象等。</p> <ul><li>事件循环：
<img src="img/Trick%E6%B5%81%E7%A8%8B.png" alt="Trick流程"></li></ul> <p>进程启动时，Node便会创建一个类似于while(true)的循环，每执行一次循环体的过程我们称为Tick。每个Tick的过程就是查看是否有事件待处理，如果有，就取出事件及其相关的回调函数。如果存在关联的回调函数，就执行它们。然后进入下个循环，如果不再有事件处理，就退出进程。</p> <ul><li>观察者:在每个Tick的过程中，如何判断是否有事件需要处理呢？这里必须要引入的概念是观察者。
<ul><li>有一个或者多个（可类比收银台小妹），一个观察者里可能有多个事件。</li> <li>在Node中，事件主要来源于网络请求、文件I/O等，这些事件对应的观察者有文件I/O观察者、网络I/O观察者等。观察者将事件进行了分类。</li> <li>事件循环是一个典型的生产者/消费者模型。异步I/O、网络请求等则是事件的生产者，源源不断为Node提供不同类型的事件，这些事件被传递到对应的观察者那里，事件循环则从观察者那里取出事件并处理。在Windows下，这个循环基于IOCP创建，而在*nix下则基于多线程创建。</li></ul></li> <li>请求对象：从JS发起调用到内核执行完I/O操作的过渡过程中，存在一种中间产物，它叫做请求对象。以fs.open()方法来作为例子：
<ul><li><img src="img/fs%E8%B0%83%E7%94%A8%E7%A4%BA%E6%84%8F%E5%9B%BE.png" alt="调用示意图"></li> <li>从JavaScript调用Node的核心模块，核心模块调用C++内建模块，内建模块通过libuv进行系统调用，这是Node里经典的调用方式。libuv作为封装层，有两个平台的实现，实质上是调用了uv_fs_open()方法。在uv_fs_open()的调用中创建了一个FSReqWrap请求对象。其中我们最为关注的回调函数则被设置在这个对象的oncomplete_sym属性上。对象包装完毕后，在Windows下，则调用QueueUserWorkItem()方法将这个FSReqWrap对象推入线程池中等待执行</li> <li>至此，JavaScript调用立即返回，由JavaScript层面发起的异步调用的第一阶段就此结束。JavaScript线程可以继续执行当前任务的后续操作。当前的I/O操作在线程池中等待执行，不管它是否阻塞I/O，都不会影响到JavaScript线程的后续执行，如此就达到了异步的目的。</li> <li>请求对象是异步I/O过程中的重要中间产物，所有的状态都保存在这个对象中，包括送入线程池等待执行以及I/O操作完毕后的回调处理。</li></ul></li> <li>执行回调：组装好请求对象、送入I/O线程池等待执行，实际上完成了异步I/O的第一部分，回调通知是第二部分。
<ul><li>在这个过程中，我们其实还动用了事件循环的I/O观察者。在每次Tick的执行中，它会调用IOCP相关的GetQueuedCompletionStatus()方法检查线程池中是否有执行完的请求，如果存在，会将请求对象加入到I/O观察者的队列中，然后将其当做事件处理。</li> <li><img src="img/%E6%95%B4%E4%B8%AA%E5%BC%82%E6%AD%A5%E7%9A%84%E6%B5%81%E7%A8%8B.png" alt="整个异步I/O的流程"></li> <li>事件循环、观察者、请求对象、I/O线程池这四者共同构成了Node异步I/O模型的基本要素。\</li></ul></li> <li>小结：在Node中，除了JavaScript是单线程外，Node自身其实是多线程的，只是I/O线程使用的CPU较少。另一个需要重视的观点则是，除了用户代码无法并行执行外，所有的I/O（磁盘I/O和网络I/O等）则是可以并行起来的。</li></ul> <h3 id="_2-4-非i-o的异步api"><a href="#_2-4-非i-o的异步api" class="header-anchor">#</a> 2.4 非I/O的异步API</h3> <p>Node中其实还存在一些与I/O无关的异步API：setTimeout()、setInterval()、setImmediate()和process.nextTick()</p> <ul><li>定时器：实现原理与异步I/O比较类似，只是不需要I/O线程池的参与。譬如通过setTimeout()设定一个任务在10毫秒后执行，但是在9毫秒后，有一个任务占用了5毫秒的CPU时间片，再次轮到定时器执行时，时间就已经过期4毫秒。</li> <li>process.nextTick():每次调用process.nextTick()方法，只会将回调函数放入队列中，在下一轮Tick时取出执行。定时器中采用红黑树的操作时间复杂度为O(lg(n)),nextTick()的时间复杂度为O(1)。相较之下，process.nextTick()更高效。</li> <li>setImmediate():process.nextTick()中的回调函数执行的优先级要高于setImmediate()。
<ul><li>原因：事件循环对观察者的检查是有先后顺序的，process.nextTick()属于idle观察者，setImmediate()属于check观察者。在每一个轮循环检查中，idle观察者先于I/O观察者，I/O观察者&gt;check观察者。</li> <li>process.nextTick()的回调保存在数组中，setImmediate()的结果则是保存在链表中。行为上process.nextTick()在每轮循环中会将数组中的回调函数全部执行完，而setImmediate()在每轮循环中执行链表中的一个回调函数。</li></ul></li></ul> <h3 id="_2-5-事件驱动与高性能服务器"><a href="#_2-5-事件驱动与高性能服务器" class="header-anchor">#</a> 2.5 事件驱动与高性能服务器</h3> <p><img src="img/%E5%88%A9%E7%94%A8Node%E6%9E%84%E5%BB%BAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%B5%81%E7%A8%8B%E5%9B%BE.png" alt="利用Node构建Web服务器流程图"></p> <p>Node通过事件驱动的方式处理请求，无须为每一个请求创建额外的对应线程，可以省掉创建线程和销毁线程的开销，同时操作系统在调度任务时因为线程较少，上下文切换的代价很低。这使得服务器能够有条不紊地处理请求，即使在大量连接的情况下，也不受线程上下文切换开销的影响，这是Node高性能的一个原因。</p> <p>Nginx采用纯C写成，性能较高，但是它仅适合于做Web服务器，用于反向代理或负载均衡等服务，在处理具体业务方面较为欠缺。Node则是一套高性能的平台，可以利用它构建与Nginx相同的功能，也可以处理各种具体业务，而且与背后的网络保持异步畅通。两者相比，Node没有Nginx在Web服务器方面那么专业，但场景更大，自身性能也不错。在实际项目中，我们可以结合它们各自优点，以达到应用的最优性能。</p> <h3 id="_2-6-总结"><a href="#_2-6-总结" class="header-anchor">#</a> 2.6 总结</h3> <p>本章介绍了异步I/O和另一些非I/O的异步方法。事件循环是异步实现的核心，它与浏览器中的执行模型基本保持了一致。Node正是依靠构建了一套完善的高性能异步I/O框架，打破了JavaScript在服务器端止步不前的局面。</p> <h2 id="_3-异步编程"><a href="#_3-异步编程" class="header-anchor">#</a> 3. 异步编程</h2> <p>V8和异步I/O在性能上带来的提升，前后端JavaScript编程风格一致，是Node能够迅速成功并流行起来的主要原因。</p> <h3 id="_3-1-函数式编程"><a href="#_3-1-函数式编程" class="header-anchor">#</a> 3.1 函数式编程</h3> <ul><li>高阶函数：把函数作为参数，或是将函数作为返回值的函数。
<ul><li>数组的sort()方法，可接受一个方法作为参数参与运算排序</li> <li>ECMAScript5中提供的一些数组方法（forEach()、map()、reduce()、reduceRight()、filter()、every()、some()）十分典型。</li></ul></li> <li>偏函数用法：</li></ul></div></section> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/Front-end-Recording/09-03-剑🈯️offer.html" class="prev">
            剑🈯️offer
          </a></span> <span class="next"><a href="/Front-end-Recording/10-01-字节.html">
            字节
          </a></span></p></div> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-cb1513f6><li class="level-2" data-v-cb1513f6><a href="/Front-end-Recording/09-04-node.html#_1-模块机制" class="sidebar-link reco-side-_1-模块机制" data-v-cb1513f6>1. 模块机制</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-Recording/09-04-node.html#_1-1-commonjs规范" class="sidebar-link reco-side-_1-1-commonjs规范" data-v-cb1513f6>1.1 CommonJS规范</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-Recording/09-04-node.html#_1-2-node的模块实现" class="sidebar-link reco-side-_1-2-node的模块实现" data-v-cb1513f6>1.2 Node的模块实现</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-Recording/09-04-node.html#_1-3-核心模块" class="sidebar-link reco-side-_1-3-核心模块" data-v-cb1513f6>1.3 核心模块</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-Recording/09-04-node.html#_1-4-c-c-扩展模块" class="sidebar-link reco-side-_1-4-c-c-扩展模块" data-v-cb1513f6>1.4 C/C++扩展模块</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-Recording/09-04-node.html#_1-5-模块调用栈" class="sidebar-link reco-side-_1-5-模块调用栈" data-v-cb1513f6>1.5 模块调用栈</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-Recording/09-04-node.html#_1-6-包与npm" class="sidebar-link reco-side-_1-6-包与npm" data-v-cb1513f6>1.6 包与NPM</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-Recording/09-04-node.html#_1-7-前后端公用模块" class="sidebar-link reco-side-_1-7-前后端公用模块" data-v-cb1513f6>1.7 前后端公用模块</a></li><li class="level-2" data-v-cb1513f6><a href="/Front-end-Recording/09-04-node.html#_2-异步i-o" class="sidebar-link reco-side-_2-异步i-o" data-v-cb1513f6>2. 异步I/O</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-Recording/09-04-node.html#_2-1-为什么要异步i-o" class="sidebar-link reco-side-_2-1-为什么要异步i-o" data-v-cb1513f6>2.1 为什么要异步I/O</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-Recording/09-04-node.html#_2-2-异步i-o实现现状" class="sidebar-link reco-side-_2-2-异步i-o实现现状" data-v-cb1513f6>2.2 异步I/O实现现状</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-Recording/09-04-node.html#_2-3-node的异步i-o" class="sidebar-link reco-side-_2-3-node的异步i-o" data-v-cb1513f6>2.3 Node的异步I/O</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-Recording/09-04-node.html#_2-4-非i-o的异步api" class="sidebar-link reco-side-_2-4-非i-o的异步api" data-v-cb1513f6>2.4 非I/O的异步API</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-Recording/09-04-node.html#_2-5-事件驱动与高性能服务器" class="sidebar-link reco-side-_2-5-事件驱动与高性能服务器" data-v-cb1513f6>2.5 事件驱动与高性能服务器</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-Recording/09-04-node.html#_2-6-总结" class="sidebar-link reco-side-_2-6-总结" data-v-cb1513f6>2.6 总结</a></li><li class="level-2" data-v-cb1513f6><a href="/Front-end-Recording/09-04-node.html#_3-异步编程" class="sidebar-link reco-side-_3-异步编程" data-v-cb1513f6>3. 异步编程</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-Recording/09-04-node.html#_3-1-函数式编程" class="sidebar-link reco-side-_3-1-函数式编程" data-v-cb1513f6>3.1 函数式编程</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/Front-end-Recording/assets/js/app.6504e1cf.js" defer></script><script src="/Front-end-Recording/assets/js/3.64af85a2.js" defer></script><script src="/Front-end-Recording/assets/js/1.20e53344.js" defer></script><script src="/Front-end-Recording/assets/js/81.c755a1dd.js" defer></script>
  </body>
</html>
