(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{608:function(t,s,a){"use strict";a.r(s);var e=a(17),o=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"_1-浏览器本地存储方式及使用场景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-浏览器本地存储方式及使用场景"}},[t._v("#")]),t._v(" 1. 浏览器本地存储方式及使用场景")]),t._v(" "),a("h3",{attrs:{id:"_1-1-cookie"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-cookie"}},[t._v("#")]),t._v(" 1.1 Cookie")]),t._v(" "),a("p",[t._v("概述：")]),t._v(" "),a("ul",[a("li",[t._v("在此之前，服务端是无法判断网络中的两个请求是否是同一用户发起的，为解决这个问题，Cookie就出现了。")]),t._v(" "),a("li",[t._v("Cookie的大小只有4kb，它是一种纯文本文件，每次发起HTTP请求都会携带Cookie。")])]),t._v(" "),a("p",[t._v("特性：")]),t._v(" "),a("ul",[a("li",[t._v("Cookie名称就无法修改")]),t._v(" "),a("li",[t._v("Cookie无法跨域名，由Cookie的隐私安全性决定的，这样就能够阻止非法获取其他网站的Cookie。")]),t._v(" "),a("li",[t._v("每个域名下Cookie的数量不能超过20个，每个Cookie的大小不能超过4kb")]),t._v(" "),a("li",[t._v("有安全问题，如果Cookie被拦截了，那就可获得session的所有信息，即使加密也于事无补，无需知道cookie的意义，只要转发cookie就能达到目的。")]),t._v(" "),a("li",[t._v("Cookie在请求一个新的页面的时候都会被发送过去。")])]),t._v(" "),a("p",[t._v("跨域共享Cookie：")]),t._v(" "),a("ul",[a("li",[t._v("使用Nginx反向代理")]),t._v(" "),a("li",[t._v("在一个站点登陆之后，往其他网站写Cookie。服务端的Session存储到一个节点，Cookie存储sessionId")])]),t._v(" "),a("p",[t._v("使用场景：")]),t._v(" "),a("ul",[a("li",[t._v("Cookie和session结合使用，我们将sessionId存储到Cookie中，每次发请求都会携带这个sessionId，这样服务端就知道是谁发起的请求，从而响应相应的信息。")]),t._v(" "),a("li",[t._v("可以用来统计页面的点击次数")])]),t._v(" "),a("h3",{attrs:{id:"_1-2-localstorage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-localstorage"}},[t._v("#")]),t._v(" 1.2 LocalStorage")]),t._v(" "),a("p",[t._v("优点：")]),t._v(" "),a("ul",[a("li",[t._v("5MB，可以储存更多的信息")]),t._v(" "),a("li",[t._v("持久储存，除非主动清理，不然会永久存在")]),t._v(" "),a("li",[t._v("仅储存在本地，不像Cookie那样每次HTTP请求都会被携带")])]),t._v(" "),a("p",[t._v("缺点：")]),t._v(" "),a("ul",[a("li",[t._v("存在浏览器兼容问题")]),t._v(" "),a("li",[t._v("浏览器设置为隐私模式，无法读取")]),t._v(" "),a("li",[t._v("受到同源策略的限制")])]),t._v(" "),a("p",[t._v("常用API：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("localStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setItem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'key'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'value'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" localStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getItem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'key'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nlocalStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeItem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'key'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nlocalStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("clear")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nlocalStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("使用场景：")]),t._v(" "),a("ul",[a("li",[t._v("网站有换肤的功能")]),t._v(" "),a("li",[t._v("存储用户浏览信息")])]),t._v(" "),a("h3",{attrs:{id:"_1-3-sessionstorage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-sessionstorage"}},[t._v("#")]),t._v(" 1.3 SessionStorage")]),t._v(" "),a("p",[t._v("SessionStorage 刷新页面时不会删除，关闭窗口或标签页之后将会删除这些数据。")]),t._v(" "),a("p",[t._v("对比：")]),t._v(" "),a("ul",[a("li",[t._v("都在"),a("strong",[t._v("本地进行数据存储")]),t._v("；")]),t._v(" "),a("li",[t._v("都有同源限制，但是SessionStorage有一条更加严格的限制，SessionStorage"),a("strong",[t._v("只有在同一浏览器的同一窗口下才能够共享")]),t._v("；")]),t._v(" "),a("li",[a("strong",[t._v("都不能被爬虫爬取")]),t._v("；")])]),t._v(" "),a("p",[t._v("使用场景：")]),t._v(" "),a("ul",[a("li",[t._v("具有时效性，故存储游客信息")])]),t._v(" "),a("h3",{attrs:{id:"_1-4-cookie字段"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-cookie字段"}},[t._v("#")]),t._v(" 1.4 cookie字段")]),t._v(" "),a("p",[t._v("服务器端可以使用 Set-Cookie 的响应头部来配置 cookie 信息。一条cookie 包括了5个属性值 expires、domain、path、secure、HttpOnly。其中 expires 指定了 cookie 失效的时间，domain 是域名、path是路径，domain 和 path 一起限制了 cookie 能够被哪些 url 访问。secure 规定了 cookie 只能在确保安全的情况下传输，HttpOnly 规定了这个 cookie 只能被服务器访问，不能使用 js 脚本访问。")]),t._v(" "),a("ul",[a("li",[t._v("注意：⚠️当需要在本地存储大量数据的时候，我们可以使用浏览器的 indexDB 这是浏览器提供的一种本地的数据库存储机制。它不是关系型数据库，它内部采用对象仓库的形式存储数据，它更接近 NoSQL 数据库。")])]),t._v(" "),a("h2",{attrs:{id:"_2-前端储存的方式有哪些"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-前端储存的方式有哪些"}},[t._v("#")]),t._v(" 2. 前端储存的⽅式有哪些？")]),t._v(" "),a("ul",[a("li",[t._v("cookies")]),t._v(" "),a("li",[t._v("localStorage")]),t._v(" "),a("li",[t._v("sessionStorage")]),t._v(" "),a("li",[t._v("Web SQL，⽤sql进⾏操作，当我们⽤JavaScript时要进⾏转换，较为繁琐；")]),t._v(" "),a("li",[t._v("IndexedDB： 是被正式纳⼊HTML5标准的数据库储存⽅案，它是NoSQL数据库，⽤键值对进⾏储存，可以进⾏快速读取操作，⾮常适合web场景，同时⽤JavaScript进⾏操作会⾮常便。其特点如下：\n"),a("ul",[a("li",[t._v("键值对储存")]),t._v(" "),a("li",[t._v("异步——IndexedDB 操作时不会锁死浏览器，用户依然可以进行其他操作，这与 LocalStorage 形成对比，后者的操作是同步的。异步设计是为了防止大量数据的读写，拖慢网页的表现。")]),t._v(" "),a("li",[t._v("支持事务——IndexedDB 支持事务（transaction），这意味着一系列操作步骤之中，只要有一步失败，整个事务就都取消，数据库回滚到事务发生之前的状态，不存在只改写一部分数据的情况。")]),t._v(" "),a("li",[t._v("同源限制——IndexedDB 受到同源限制，每一个数据库对应创建它的域名。网页只能访问自身域名下的数据库，而不能访问跨域的数据库。")]),t._v(" "),a("li",[t._v("储存空间大")]),t._v(" "),a("li",[t._v("支持二进制储存")])])])])])}),[],!1,null,null,null);s.default=o.exports}}]);